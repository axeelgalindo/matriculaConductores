{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
<link rel="stylesheet" href="{% static '../static/css/alumnos/index.css' %}">

{% endblock %}

{% block contenido %}
<div class="container" style="min-height: 30rem !important">
    {% if alumnos %}
    <div class="agregar">
        <a href="{% url 'agregar-alumno' %}" class="btn btn-light as" >
            <p class="mt-3">Agregar Alumno</p>
        </a>
    </div>
    
    <form method="GET">
    <div class="row d-flex justify-content-center my-3 mb-4">
            <div class="col-sm-2">
                <input type="text" name="nombre__icontains" class="form-control" id="id_nombre__icontains" placeholder="Filtrar por nombre">
            </div>
            <div class="col-sm-2">
                <input type="text" name="rut__icontains" class="form-control" id="id_rut__icontains" placeholder="Filtrar por rut">
            </div>
            <div class="col-sm-3">
                <input type="text" name="apaterno__icontains" class="form-control" id="id_apaterno__icontains" placeholder="Filtrar por primer apellido">
            </div>
            <div class="col-sm-3">
                <input type="text" value="" name="amaterno__icontains" class="form-control" id="id_amaterno__icontains" placeholder="Filtrar por segundo apellido">
            </div>  
            <div class="col-sm-1">
                <button type="submit" class="btn btn-dark">Filtrar</button>
            </div>    
    </div>
    </form>
    <!--
    </form>
    {% for alum in alumnos.qs %}
    <form action="">
        <input type="text" value="{{alum.nombre}}" name="">

    </form>
    
    {% endfor %}
    -->
    <table class="table caption-top text-center table-hover align-items-center justify-content-center mt-2" placeholder="Filtrar por nombre">
        <caption class="text-center mb-3">Lista de alumnos</caption>
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">RUT</th>
            <th scope="col">Nombre</th>
            <th scope="col">Apellidos</th>
            <th scope="col">Direcci√≥n</th>
            <th scope="col">Email</th>
            <th scope="col">Fono</th>
            <th scope="col">Mantenimiento <i class="bi bi-wrench"></i></th>

          </tr>
        </thead>
        {% for alum in alumnos.qs %}
        <tbody>
            <tr>
                <th scope="row" class="pt-3">{{alum.id}}</th>
                <td class="pt-3">{{alum.rut}}</td>
                <td class="pt-3">{{alum.nombre}}</td>
                <td class="pt-3">{{alum.apaterno}} {{alum.amaterno}}</td>
                <td class="pt-3">{{alum.direccion}}</td>
                <td class="pt-3">{{alum.email}}</td>
                <td class="pt-3">{{alum.fono}}</td>      

                <td class="flex-fill">
                    <a href="{% url 'alumno' alum.id %}" class="btn">
                        <img src="{% static 'icons/eyes.svg' %}" alt="">
                    </a>
                </td>
            </tr>
        </tbody>

        {% endfor %}
      </table>
      

    {% else %}

    <h4 class="p-5 text-center">No hay alumnos</h4>

    {% endif %}

</div>


{% endblock %}
